{"remainingRequest":"/Users/diiru/Desktop/Vue_Forms/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/diiru/Desktop/Vue_Forms/src/components/Chart.vue?vue&type=style&index=0&id=4d06a4de&scoped=true&lang=css&","dependencies":[{"path":"/Users/diiru/Desktop/Vue_Forms/src/components/Chart.vue","mtime":1546524596985},{"path":"/Users/diiru/Desktop/Vue_Forms/node_modules/css-loader/index.js","mtime":1546457431807},{"path":"/Users/diiru/Desktop/Vue_Forms/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1546457431979},{"path":"/Users/diiru/Desktop/Vue_Forms/node_modules/postcss-loader/lib/index.js","mtime":1545836205605},{"path":"/Users/diiru/Desktop/Vue_Forms/node_modules/cache-loader/dist/cjs.js","mtime":1546457431745},{"path":"/Users/diiru/Desktop/Vue_Forms/node_modules/vue-loader/lib/index.js","mtime":1546457431979}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nh1.highcharts-title, h3.highcharts-subtitle {\n    font-family: \"Lucida Grande\", \"Lucida Sans Unicode\", Arial, Helvetica, sans-serif;\n}\nh3 {\n    margin: 40px 0 0;\n}\nul {\n    list-style-type: none;\n    padding: 0;\n}\nli {\n    display: inline-block;\n    margin: 0 10px;\n}\na {\n    color: #42b983;\n}\n@media (max-width: 768px) {\n    h1, h2, h3, h4, h5, h6 {\n        font-size: .8em;\n    }\n}\n",{"version":3,"sources":["Chart.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Chart.vue","sourceRoot":"src/components","sourcesContent":["<template>\n    <div class=\"chart\">\n        <h1 class=\"highcharts-title\">Valor cuota fondo {{name}}</h1>\n        <h2 class=\"highcharts-subtitle\">{{ profit }}</h2>\n        <highcharts :constructor-type=\"'stockChart'\" :options=\"options\"></highcharts>\n    </div>\n</template>\n<script>\n    /* eslint-disable */\n\n    import _ from 'lodash';\n\n    export default {\n        name: 'Chart',\n        props: {\n            name: String,\n            realAssetId: Number,\n        },\n        data: function () {\n            return {\n                days: [],\n                startDate: null,\n                endDate: null,\n            };\n        },\n        created: function () {\n            this.fetchDays();\n        },\n        methods: {\n            fetchDays() {\n                fetch(`https://fintual.cl/api/real_assets/${this.realAssetId}/days`)\n                    .then(data => data.json())\n                    .then(data => {\n                        this.days = data['data']\n                            .map(day => [Date.parse(day[\"attributes\"][\"date\"]), day[\"attributes\"][\"price\"]])\n                            .sort((a, b) => a[0] - b[0])\n                    });\n            },\n            setExtremes(e) {\n                this.startDate = e.min;\n                this.endDate = e.max;\n            }\n        },\n        computed: {\n            options() {\n                return {\n                    series: [{\n                        name: 'Valor Cuota',\n                        data: this.days\n                    }],\n                    xAxis: {\n                        events: {\n                            afterSetExtremes: this.setExtremes,\n                        },\n                    },\n                };\n            },\n            profit() {\n                if (!this.startDate || !this.endDate) { return '' }\n                const sortedDays = _.cloneDeep(this.days).sort((a, b) => a[0] - b[0])\n                const startElement = sortedDays.find(day => _.inRange(day[0], this.startDate, this.endDate + 1))\n                const endElement = _.reverse(sortedDays).find(day => _.inRange(day[0], this.startDate, this.endDate + 1))\n                return `(Rentabilidad del periodo seleccionado: ${_.round(((endElement[1] - startElement[1]) / startElement[1]) * 100, 4)}%)`\n            }\n        }\n    }\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n    h1.highcharts-title, h3.highcharts-subtitle {\n        font-family: \"Lucida Grande\", \"Lucida Sans Unicode\", Arial, Helvetica, sans-serif;\n    }\n    h3 {\n        margin: 40px 0 0;\n    }\n    ul {\n        list-style-type: none;\n        padding: 0;\n    }\n    li {\n        display: inline-block;\n        margin: 0 10px;\n    }\n    a {\n        color: #42b983;\n    }\n    @media (max-width: 768px) {\n        h1, h2, h3, h4, h5, h6 {\n            font-size: .8em;\n        }\n    }\n</style>\n"]}]}