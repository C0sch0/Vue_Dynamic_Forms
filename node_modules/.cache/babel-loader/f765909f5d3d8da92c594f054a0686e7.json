{"remainingRequest":"/Users/diiru/Desktop/Vue_Forms/node_modules/babel-loader/lib/index.js!/Users/diiru/Desktop/Vue_Forms/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/diiru/Desktop/Vue_Forms/src/components/Chart.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/diiru/Desktop/Vue_Forms/src/components/Chart.vue","mtime":1546524596985},{"path":"/Users/diiru/Desktop/Vue_Forms/node_modules/cache-loader/dist/cjs.js","mtime":1546457431745},{"path":"/Users/diiru/Desktop/Vue_Forms/node_modules/babel-loader/lib/index.js","mtime":1546457429293},{"path":"/Users/diiru/Desktop/Vue_Forms/node_modules/vue-loader/lib/index.js","mtime":1546457431979}],"contextDependencies":[],"result":["import \"core-js/modules/es6.array.find\";\nimport \"core-js/modules/es6.array.sort\";\nimport \"core-js/modules/es6.number.constructor\";\n//\n//\n//\n//\n//\n//\n//\n\n/* eslint-disable */\nimport _ from 'lodash';\nexport default {\n  name: 'Chart',\n  props: {\n    name: String,\n    realAssetId: Number\n  },\n  data: function data() {\n    return {\n      days: [],\n      startDate: null,\n      endDate: null\n    };\n  },\n  created: function created() {\n    this.fetchDays();\n  },\n  methods: {\n    fetchDays: function fetchDays() {\n      var _this = this;\n\n      fetch(\"https://fintual.cl/api/real_assets/\".concat(this.realAssetId, \"/days\")).then(function (data) {\n        return data.json();\n      }).then(function (data) {\n        _this.days = data['data'].map(function (day) {\n          return [Date.parse(day[\"attributes\"][\"date\"]), day[\"attributes\"][\"price\"]];\n        }).sort(function (a, b) {\n          return a[0] - b[0];\n        });\n      });\n    },\n    setExtremes: function setExtremes(e) {\n      this.startDate = e.min;\n      this.endDate = e.max;\n    }\n  },\n  computed: {\n    options: function options() {\n      return {\n        series: [{\n          name: 'Valor Cuota',\n          data: this.days\n        }],\n        xAxis: {\n          events: {\n            afterSetExtremes: this.setExtremes\n          }\n        }\n      };\n    },\n    profit: function profit() {\n      var _this2 = this;\n\n      if (!this.startDate || !this.endDate) {\n        return '';\n      }\n\n      var sortedDays = _.cloneDeep(this.days).sort(function (a, b) {\n        return a[0] - b[0];\n      });\n\n      var startElement = sortedDays.find(function (day) {\n        return _.inRange(day[0], _this2.startDate, _this2.endDate + 1);\n      });\n\n      var endElement = _.reverse(sortedDays).find(function (day) {\n        return _.inRange(day[0], _this2.startDate, _this2.endDate + 1);\n      });\n\n      return \"(Rentabilidad del periodo seleccionado: \".concat(_.round((endElement[1] - startElement[1]) / startElement[1] * 100, 4), \"%)\");\n    }\n  }\n};",{"version":3,"sources":["Chart.vue"],"names":[],"mappings":";;;;;;;;;;;AAQA;AAEA,OAAA,CAAA,MAAA,QAAA;AAEA,eAAA;AACA,QAAA,OADA;AAEA,SAAA;AACA,UAAA,MADA;AAEA,iBAAA;AAFA,GAFA;AAMA,QAAA,gBAAA;AACA,WAAA;AACA,YAAA,EADA;AAEA,iBAAA,IAFA;AAGA,eAAA;AAHA,KAAA;AAKA,GAZA;AAaA,WAAA,mBAAA;AACA,SAAA,SAAA;AACA,GAfA;AAgBA,WAAA;AACA,aADA,uBACA;AAAA;;AACA,yDAAA,KAAA,WAAA,YACA,IADA,CACA;AAAA,eAAA,KAAA,IAAA,EAAA;AAAA,OADA,EAEA,IAFA,CAEA,gBAAA;AACA,cAAA,IAAA,GAAA,KAAA,MAAA,EACA,GADA,CACA;AAAA,iBAAA,CAAA,KAAA,KAAA,CAAA,IAAA,YAAA,EAAA,MAAA,CAAA,CAAA,EAAA,IAAA,YAAA,EAAA,OAAA,CAAA,CAAA;AAAA,SADA,EAEA,IAFA,CAEA,UAAA,CAAA,EAAA,CAAA;AAAA,iBAAA,EAAA,CAAA,IAAA,EAAA,CAAA,CAAA;AAAA,SAFA,CAAA;AAGA,OANA;AAOA,KATA;AAUA,eAVA,uBAUA,CAVA,EAUA;AACA,WAAA,SAAA,GAAA,EAAA,GAAA;AACA,WAAA,OAAA,GAAA,EAAA,GAAA;AACA;AAbA,GAhBA;AA+BA,YAAA;AACA,WADA,qBACA;AACA,aAAA;AACA,gBAAA,CAAA;AACA,gBAAA,aADA;AAEA,gBAAA,KAAA;AAFA,SAAA,CADA;AAKA,eAAA;AACA,kBAAA;AACA,8BAAA,KAAA;AADA;AADA;AALA,OAAA;AAWA,KAbA;AAcA,UAdA,oBAcA;AAAA;;AACA,UAAA,CAAA,KAAA,SAAA,IAAA,CAAA,KAAA,OAAA,EAAA;AAAA,eAAA,EAAA;AAAA;;AACA,UAAA,aAAA,EAAA,SAAA,CAAA,KAAA,IAAA,EAAA,IAAA,CAAA,UAAA,CAAA,EAAA,CAAA;AAAA,eAAA,EAAA,CAAA,IAAA,EAAA,CAAA,CAAA;AAAA,OAAA,CAAA;;AACA,UAAA,eAAA,WAAA,IAAA,CAAA;AAAA,eAAA,EAAA,OAAA,CAAA,IAAA,CAAA,CAAA,EAAA,OAAA,SAAA,EAAA,OAAA,OAAA,GAAA,CAAA,CAAA;AAAA,OAAA,CAAA;;AACA,UAAA,aAAA,EAAA,OAAA,CAAA,UAAA,EAAA,IAAA,CAAA;AAAA,eAAA,EAAA,OAAA,CAAA,IAAA,CAAA,CAAA,EAAA,OAAA,SAAA,EAAA,OAAA,OAAA,GAAA,CAAA,CAAA;AAAA,OAAA,CAAA;;AACA,+DAAA,EAAA,KAAA,CAAA,CAAA,WAAA,CAAA,IAAA,aAAA,CAAA,CAAA,IAAA,aAAA,CAAA,CAAA,GAAA,GAAA,EAAA,CAAA,CAAA;AACA;AApBA;AA/BA,CAAA","sourcesContent":["<template>\n    <div class=\"chart\">\n        <h1 class=\"highcharts-title\">Valor cuota fondo {{name}}</h1>\n        <h2 class=\"highcharts-subtitle\">{{ profit }}</h2>\n        <highcharts :constructor-type=\"'stockChart'\" :options=\"options\"></highcharts>\n    </div>\n</template>\n<script>\n    /* eslint-disable */\n\n    import _ from 'lodash';\n\n    export default {\n        name: 'Chart',\n        props: {\n            name: String,\n            realAssetId: Number,\n        },\n        data: function () {\n            return {\n                days: [],\n                startDate: null,\n                endDate: null,\n            };\n        },\n        created: function () {\n            this.fetchDays();\n        },\n        methods: {\n            fetchDays() {\n                fetch(`https://fintual.cl/api/real_assets/${this.realAssetId}/days`)\n                    .then(data => data.json())\n                    .then(data => {\n                        this.days = data['data']\n                            .map(day => [Date.parse(day[\"attributes\"][\"date\"]), day[\"attributes\"][\"price\"]])\n                            .sort((a, b) => a[0] - b[0])\n                    });\n            },\n            setExtremes(e) {\n                this.startDate = e.min;\n                this.endDate = e.max;\n            }\n        },\n        computed: {\n            options() {\n                return {\n                    series: [{\n                        name: 'Valor Cuota',\n                        data: this.days\n                    }],\n                    xAxis: {\n                        events: {\n                            afterSetExtremes: this.setExtremes,\n                        },\n                    },\n                };\n            },\n            profit() {\n                if (!this.startDate || !this.endDate) { return '' }\n                const sortedDays = _.cloneDeep(this.days).sort((a, b) => a[0] - b[0])\n                const startElement = sortedDays.find(day => _.inRange(day[0], this.startDate, this.endDate + 1))\n                const endElement = _.reverse(sortedDays).find(day => _.inRange(day[0], this.startDate, this.endDate + 1))\n                return `(Rentabilidad del periodo seleccionado: ${_.round(((endElement[1] - startElement[1]) / startElement[1]) * 100, 4)}%)`\n            }\n        }\n    }\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n    h1.highcharts-title, h3.highcharts-subtitle {\n        font-family: \"Lucida Grande\", \"Lucida Sans Unicode\", Arial, Helvetica, sans-serif;\n    }\n    h3 {\n        margin: 40px 0 0;\n    }\n    ul {\n        list-style-type: none;\n        padding: 0;\n    }\n    li {\n        display: inline-block;\n        margin: 0 10px;\n    }\n    a {\n        color: #42b983;\n    }\n    @media (max-width: 768px) {\n        h1, h2, h3, h4, h5, h6 {\n            font-size: .8em;\n        }\n    }\n</style>\n"],"sourceRoot":"src/components"}]}